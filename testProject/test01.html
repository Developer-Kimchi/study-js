<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* 사진기 아이콘 */
.css-113ip0v {
    display: inline-block;
    width: 1.875rem;
    height: 1.875rem;
    background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBoMzB2MzBIMHoiLz4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0Ljc3OSA2LjExMSkiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjMiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuNzkyIDBjLjM5OSAwIC43MTcuMDU2Ljk1NS4xNy4xNzkuMDg0LjM0Ni4xOTkuNTAzLjM0NGwuMTUzLjE1NS42MzEuNzAzYy4xMjIuMTMuMjM0LjIzMy4zMzcuMzFhLjk1Ljk1IDAgMCAwIC4zNC4xNmMuMTI1LjAzMS4yOTIuMDQ3LjUwMy4wNDdsMi45MDYtLjAwM2MxLjI4NCAwIDIuMzI0IDEuMDYyIDIuMzI0IDIuMzd2MTEuMTUxYzAgMS4zMS0xLjA0IDIuMzctMi4zMjQgMi4zN0gyLjMyNGMtMS4yODMgMC0yLjMyNC0xLjA2LTIuMzI0LTIuMzdWNC4yNTdjMC0xLjMxIDEuMDQtMi4zNyAyLjMyNC0yLjM3aDIuOTgzYy4yNDUtLjAwOS40MzItLjA0NS41NTktLjEwOC4xMS0uMDU1LjIzLS4xNDUuMzYtLjI3bC4xMzQtLjEzNy42MzEtLjcwM2MuMi0uMjIuNDE4LS4zODcuNjU3LS41LjE5LS4wOS40MzItLjE0NC43MjUtLjE2Mkw4LjYwMyAwaDMuMTg5eiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSIxMC4xNDIiIGN5PSI5LjUyOSIgcj0iMy41NTYiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=);
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
}

.css-eivff4 {
    display: none;
}

/* 이미지 파일 썸네일 부분  */
.css-o4030c {
    overflow: hidden;
    display: flex;
    position: relative;
    border-radius: 6px;
    aspect-ratio: 1 / 1;
    height: 72px;
    width: 72px;
    display: none;
}
    </style>
</head>
<body>
    <div class="css-175wokr e9bfpi40">
        <!-- 파일 업로드 -->
        <div class="css-o4030c e5xt3dr1">
            <img src="" alt="" class="css-idj2s4 e5xt3dr4">
            <button type="button" class="css-v96m37 e5xt3dr2"></button>
        </div>
        <div class="css-o4030c e5xt3dr1">
            <img src="" alt="" class="css-idj2s4 e5xt3dr4">
            <button type="button" class="css-v96m37 e5xt3dr2"></button>
        </div>
        <div class="css-o4030c e5xt3dr1">
            <img src="" alt="" class="css-idj2s4 e5xt3dr4">
            <button type="button" class="css-v96m37 e5xt3dr2"></button>
        </div>
        <div class="css-o4030c e5xt3dr1">
            <img src="" alt="" class="css-idj2s4 e5xt3dr4">
            <button type="button" class="css-v96m37 e5xt3dr2"></button>
        </div>
        <div class="css-o4030c e5xt3dr1">
            <img src="" alt="" class="css-idj2s4 e5xt3dr4">
            <button type="button" class="css-v96m37 e5xt3dr2"></button>
        </div>
        <div class="css-o4030c e5xt3dr1">
            <img src="" alt="" class="css-idj2s4 e5xt3dr4">
            <button type="button" class="css-v96m37 e5xt3dr2"></button>
        </div>
        <div class="css-o4030c e5xt3dr1">
            <img src="" alt="" class="css-idj2s4 e5xt3dr4">
            <button type="button" class="css-v96m37 e5xt3dr2"></button>
        </div>
        <div class="css-o4030c e5xt3dr1">
            <img src="" alt="" class="css-idj2s4 e5xt3dr4">
            <button type="button" class="css-v96m37 e5xt3dr2"></button>
        </div>
        <div class="css-o4030c e5xt3dr1">
            <img src="" alt="" class="css-idj2s4 e5xt3dr4">
            <button type="button" class="css-v96m37 e5xt3dr2"></button>
        </div>
        <div class="css-0">
            <label for="photo-picker" class="css-0 e1l8vpkx2">
                <button type="button" class="css-j9ybaa e1l8vpkx0">
                    <span class="css-113ip0v e1tcjz8t0"></span>
                </button>
                <input multiple="" type="file" accept="image/jpg, image/jpeg, image/png, image/bmp" class="css-eivff4 e1l8vpkx1">
            </label>
        </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>

$(".e1l8vpkx0").click(function() {
	$(".e1l8vpkx1").click();
})

// const $image_div = $(".e5xt3dr4");
// const $cancel_div = $(".e5xt3dr2");
// const $input_file = $(".e1l8vpkx1");



    console.log($image_div.length);



    cancel_div.addEventListener("click", () => {
        // 취소 눌렀을 때 초기화작업을 꼭 해주어야 올렸던 정보가 없어짐!
        input_file.value = "";
        image_div[0].style.display = "block";
        image_div[1].style.display = "none";
        cancel_div.style.display = "none";
    });

    $input_file.change( e => {
        let reader = new FileReader();

        reader.readAsDataURL(e.target.files[0]);

        reader.onload = e => {
            $image_div[1].style.display = "block";
            $image_div[1].style.backgroundImage = `url('${e.target.result}')`
            $image_div[0].style.display = "none";
            $cancel_div.style.display = "block";
        }
    });

    // input type file인 객체는 파일 업로드 시 change 이벤트가 발생한다.
    input_file.addEventListener("change", e => {
        // 이 때 e객체로 업로드된 파일의 정보를 가져올 수 있다(e.target.files[0]).
        // console.log(e.target.files[0]);

        // 하지만 change 이벤트 객체만으로는 해당 파일의 경로를 알 수 없기 때문에
        // FileReader객체가 필요하다.
        let reader = new FileReader();

        // reader객체의 readAsDataURL()메소드를 사용하여 파일의 정보를 전달해주면,
        reader.readAsDataURL(e.target.files[0]);
        // 모든 파일의 정보를 읽어왔을 때 onload 이벤트가 발생한다.
        // function(a){} == a => {}
        // function(e){} == e => {}
        reader.onload = e => {
            image_div[1].style.display = "block";
            image_div[1].style.backgroundImage = `url('${e.target.result}')`
            image_div[0].style.display = "none";
            cancel_div.style.display = "block";
        };
    });
</script>
</html>